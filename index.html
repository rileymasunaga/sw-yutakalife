<!DOCTYPE html>
<html lang="en">

<head>
<!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-45347730-3"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-45347730-3');
</script>

    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <meta name="description" content="">
    <meta name="author" content="Yutaka-Life">
    <link rel="shortcut icon" href="bb-fav.ico" />
    <title>BACKBURNER</title>
    <!-- Bootstrap core CSS -->
    <link href="vendor/bootstrap/css/bootstrap.min.css" rel="stylesheet">
    <link href="custom.css" rel="stylesheet">
</head>

<body>
    <div class="container">
        <!-- START PAGE -->
        <div class="row" id="start">
            <div class="col-sm-8">
                <div class="spacer"> </div>
                <img class="logo" src="backburner.png">
                    <p class="start-explanation">Backburner is a system that makes it easier to stay focused on educational material. It was developed at Startup Weekend Yokohama Project based on the Zeigarnik effect, the psychological theory that people remember uncompleted or interrupted tasks better than completed tasks. </p>
                    <ol>
                        <li>This demo is designed to help you learn the basics the fundamentals about blockchain.</li>
                        <li>If interrupted, press the button labled 'continue' to return to the material.</li>
                        <li>After completing the material, you’ll be prompted to take a short survey on your experience. </li>
                    </ol>
                <button class="btn-burn" onclick="start();">BEGIN</button>
                <div class="spacer"> </div>
            </div>
        </div>
        <!-- PRE-QUIZ -->
                <div class="row hide" id="prequiz">
            <div class="col-sm-8">
                <div class="spacer"> </div>
                    <H2>How would you rate your familiarity with the Korean language?</h2>
                    <select id="rating">
                        <option value="1">1 - I am not familar with</option>
                        <option value="2">2</option>
                        <option value="3">3 - I am somewhat familiar with Korean</option>
                        <option value="4">4</option>
                        <option value="5">5 - I am very familiar with Korean</option>
                    </select>
                <button class="btn-burn" onclick="validate();">CONTINUE</button>
                <div class="spacer"> </div>
            </div>
        </div>
        <!-- THANK YOU PAGE -->
        <div class="row hide" id="thankyou">
            <div class="col-sm">
                <div class="spacer"> </div>
                <h1>Thank you for your participation.</h1>
                <p> You are not eligible to participate. </p>
            </div>
        </div>
        <!-- INTERRUPTOR - PAGE 2 -->
        <div class="row hide" id="page2">
            <div class="col-sm">
                <div class="spacer"> </div>
                <h1>ここまでっ！</h1>
                <a id="end">
                    <button class="btn-burn" onclick="restart();hide();">CONTINUE</button>
                </a>
            </div>
        </div>
        <!-- YOUTUBE PLAYER CONTENT -->
        <div class="row hide" id="playercontainer" >
            <div class="col-sm">
                <div class="embed-responsive embed-responsive-16by9">
                    <div id="player">
                    </div>
                </div>
            </div>
        </div>
    </div>
    <!-- Content -->
    <script>
    // 2. This code loads the IFrame Player API code asynchronously.
    var tag = document.createElement('script');

    tag.src = "https://www.youtube.com/iframe_api";
    var firstScriptTag = document.getElementsByTagName('script')[0];
    firstScriptTag.parentNode.insertBefore(tag, firstScriptTag);

    // 3. This function creates an <iframe> (and YouTube player)
    //    after the API code downloads.
    var player;

    function onYouTubeIframeAPIReady() {
        player = new YT.Player('player', {
            height: '390',
            width: '640',
            videoId: '93E_GzvpMA0',
            playerVars: { 'controls': 1, 'showinfo': 0, 'rel': 0, end: '112', },
            events: {
                'onStateChange': onPlayerStateChange
            }
        });
    }

    // 4. The API will call this function when the video player is ready.

    // 5. The API calls this function when the player's state changes.
    //    The function indicates that when playing a video (state=1),
    //    the player should play for six seconds and then stop.
    var done = false;

    function onPlayerStateChange(event) {
        if (event.data == YT.PlayerState.ENDED) {
            end();
            done = true;
        }
    }

    //    Show: Display Iframe, hide start page elements
    function show() {
        var video = document.getElementById("playercontainer");
        video.classList.add("show");
        var prequiz = document.getElementById("prequiz");
        prequiz.classList.add("hide");
        prequiz.classList.remove("show");

    }
    //Hide: Hide player, show end screen
    var showtime;

    function hide() {
        showtime = setTimeout(
            function() {
                var video = document.getElementById("playercontainer");
                var element = document.getElementById("page2");
                video.classList.remove("show");
                element.classList.add("show");
            }, 30000);
    }
    // Restart, show player, hide end screen
    function restart() {
        var video = document.getElementById("playercontainer");

        video.classList.add("show");
        var page2 = document.getElementById("page2");
        page2.classList.add("hide");
        page2.classList.remove("show");
    }
    //End, Clear timer and show end screen. 
    function end() {
        clearTimeout(showtime);
        var video = document.getElementById("playercontainer");
        var element = document.getElementById("page2");
        var endbutton = document.getElementById("end");
        video.classList.remove("show");
        element.classList.add("show");
        endbutton.setAttribute("onclick", "");
        // endbutton.setAttribute("href", "distraction.html");
        // setTimeout(function() { window.location.replace('distraction.html'); }, 7000);
        endbutton.setAttribute("href", "post.html");
        setTimeout(function() { window.location.replace('post.html'); }, 7000);
    }

// Hide Prequiz and display thank you or content
    function validate() {
        var familiarity = document.getElementById("rating").value;
        if (familiarity < 4) {
            hide();
            show();
        } else {
            var thankyou = document.getElementById("thankyou");
            var prequiz = document.getElementById("prequiz");
            thankyou.classList.add("show");
            prequiz.classList.add("hide");
            prequiz.classList.remove("show");

        }
    }
// Hide start page show prequiz
        function start() {
        var start = document.getElementById("start");
        start.classList.add("hide");
            hide();
            show();
    }
    </script>
</body>

</html>